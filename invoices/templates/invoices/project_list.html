{% extends 'dashboard_base.html' %}
{% block title %}Projects - InvoiceGen{% endblock %}
{% block content %}
<div class="space-y-6">
    <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
            <h1 class="text-3xl font-bold tracking-tight">Projects</h1>
            <p class="text-muted-foreground mt-1">Organize your work by client and project.</p>
        </div>
        <div class="flex items-center gap-3">
            <a href="{% url 'project_create' %}">
                <c-button>
                    <svg class="mr-2 h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke-width="2" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                    New Project
                </c-button>
            </a>
        </div>
    </div>
    <c-card>
        <div class="relative w-full overflow-auto -mx-6">
            <table class="w-full caption-bottom text-sm">
                <thead class="bg-muted/50 [&_tr]:border-b">
                    <tr class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted">
                        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Project Name</th>
                        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Client</th>
                        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">Abbreviation</th>
                        <th class="h-12 px-4 text-right align-middle font-medium text-muted-foreground">Actions</th>
                    </tr>
                </thead>
                <tbody class="[&_tr:last-child]:border-0">
                    {% for project in projects %}
                    <tr class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted">
                        <td class="p-4 align-middle font-medium text-primary">
                            <a href="{% url 'project_update' project.id %}" class="hover:underline">{{ project.name
                                }}</a>
                        </td>
                        <td class="p-4 align-middle">
                            <div class="font-medium text-sm">{{ project.client.name }}</div>
                        </td>
                        <td class="p-4 align-middle text-muted-foreground uppercase text-xs font-semibold">{{
                            project.abbreviation }}</td>
                        <td class="p-4 align-middle text-right">
                            <a href="{% url 'project_update' project.id %}">
                                <c-button variant="ghost" size="sm">Edit</c-button>
                            </a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" class="p-8 text-center text-muted-foreground">
                            <div class="flex flex-col items-center gap-2">
                                <svg class="h-10 w-10 text-muted/30" xmlns="http://www.w3.org/2000/svg" fill="none"
                                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M20.25 14.15v4.25c0 .621-.504 1.125-1.125 1.125H4.875c-.621 0-1.125-.504-1.125-1.125v-4.25c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125zm0-8.5v4.25c0 .621-.504 1.125-1.125 1.125H4.875c-.621 0-1.125-.504-1.125-1.125V5.65c0-.621.504-1.125 1.125-1.125h14.25c.621 0 1.125.504 1.125 1.125z" />
                                </svg>
                                <p>No projects found.</p>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </c-card>
</div>
{% endblock %}